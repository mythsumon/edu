# 네이버 지도 설정 가이드

## 문제
"지도를 표시할 수 없습니다" 또는 "NEXT_PUBLIC_NAVER_MAP_CLIENT_ID 환경변수를 확인해주세요" 메시지가 표시되는 경우

## 해결 방법

### 1. 네이버 클라우드 플랫폼에서 Client ID 발급

1. [네이버 클라우드 플랫폼](https://www.ncloud.com)에 로그인
2. **Services** > **Application Service** > **Maps** 선택
3. **Application 등록** 클릭
4. Application 이름 입력 후 등록
5. 발급받은 **Client ID** 복사

### 2. 환경변수 설정

프로젝트 루트 디렉토리에 `.env.local` 파일을 생성하고 다음 내용을 추가:

```env
NEXT_PUBLIC_NAVER_MAP_CLIENT_ID=발급받은_Client_ID
```

**중요**: 
- 파일명은 반드시 `.env.local`이어야 합니다
- `NEXT_PUBLIC_` 접두사가 필요합니다 (Next.js 클라이언트 사이드 환경변수)
- `.env.local` 파일은 `.gitignore`에 포함되어 있어 Git에 커밋되지 않습니다

### 3. 개발 서버 재시작

환경변수를 변경한 후에는 개발 서버를 재시작해야 합니다:

```bash
# 개발 서버 중지 (Ctrl+C)
# 개발 서버 재시작
npm run dev
```

### 4. 확인

브라우저 콘솔에서 에러가 사라지고 지도가 정상적으로 표시되는지 확인하세요.

## 지도 없이도 사용 가능

지도가 표시되지 않아도 권역 관리 기능은 정상적으로 작동합니다:
- 권역 카드에서 "편집" 버튼으로 권역 관리 가능
- 행정구역 선택은 Select 드롭다운으로 가능
- 지도는 시각적 보조 기능입니다

## 문제 해결

### 환경변수가 적용되지 않는 경우

1. `.env.local` 파일이 프로젝트 루트에 있는지 확인
2. 파일명이 정확한지 확인 (`.env.local`, `.env` 아님)
3. 개발 서버를 재시작했는지 확인
4. `NEXT_PUBLIC_` 접두사가 있는지 확인

### Client ID가 유효하지 않은 경우

1. 네이버 클라우드 플랫폼에서 Application이 활성화되어 있는지 확인
2. Client ID가 올바르게 복사되었는지 확인 (공백 없음)
3. Maps 서비스가 활성화되어 있는지 확인

### 지도는 표시되지만 권역이 표시되지 않는 경우

- GeoJSON 파일이 없어도 기본 지도는 표시됩니다
- 권역 경계를 표시하려면 `/public/geo/si-gun-gu.geojson` 파일이 필요합니다
- GeoJSON 파일은 선택사항이며, 권역 관리 기능은 정상 작동합니다

## 참고

- `.env.local.example` 파일을 참고하여 환경변수 형식을 확인할 수 있습니다
- 환경변수는 빌드 타임에 클라이언트 번들에 포함됩니다
- 프로덕션 배포 시에도 동일한 환경변수를 설정해야 합니다
